import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import {Stack} from '@chakra-ui/core';
import PrimaryButton from '../components/primary-button';
import SecondaryButton from '../components/secondary-button';
import TertiaryButton from '../components/tertiary-button';
import ProviderDecorator from '../provider-decorator';
import ViewSection from './view-section';
import DataList from './data-list';
import DataTable from '../table/data-table';
import toDateString from '../to-date-string';

<Meta title="Patterns/ViewSection" component={ViewSection} decorators={[ProviderDecorator]} />

# ViewSection

A `ViewSection` can be used to group relevant information together. A example group of information could be **Account Information** or **Address**. You would like to use the `DataList` Component to display these groups of Information. Another use-case would be to render a `DataTable` instead of a `DataList`.

## Example

<Canvas>
  <Story name="viewsection-example">
    <ViewSection
        title="common.viewsection.title"
        actions={
            <Stack isInline shouldWrapChildren>
                <PrimaryButton size="sm">Primary</PrimaryButton>
                <SecondaryButton size="sm">Secondary</SecondaryButton>
                <TertiaryButton size="sm">Tertiary</TertiaryButton>
            </Stack>
        }>
        <DataList
            values={[
                {
                    field: 'name',
                    value: chance.name(),
                },
                {
                    field: 'customerNumber',
                    value: chance.integer({
                        min: 100000,
                        max: 99999999,
                    }),
                },
                {
                    field: 'birthday',
                    value: toDateString(chance.date().toISOString()),
                },
            ]}
        />
    </ViewSection>
  </Story>
</Canvas>

## Props

<ArgsTable of={ViewSection} />

## Example embedded

<Canvas>
  <Story name="viewsection-example-embedded">
    <ViewSection
        title="common.viewsection.title"
        isEmbedded
        actions={
            <Stack isInline shouldWrapChildren>
                <PrimaryButton size="sm">Primary</PrimaryButton>
                <SecondaryButton size="sm">Secondary</SecondaryButton>
                <TertiaryButton size="sm">Tertiary</TertiaryButton>
            </Stack>
        }>
        <DataList
            values={[
                {
                    field: 'name',
                    value: chance.name(),
                },
                {
                    field: 'customerNumber',
                    value: chance.integer({
                        min: 100000,
                        max: 99999999,
                    }),
                },
                {
                    field: 'birthday',
                    value: toDateString(chance.date().toISOString()),
                },
            ]}
        />
    </ViewSection>
  </Story>
</Canvas>

## Example without Title and Actions

<Canvas>
  <Story name="viewsection-example-without-title-and-actions">
    <ViewSection>
        <DataList
            values={[
                {
                    field: 'name',
                    value: chance.name(),
                },
                {
                    field: 'customerNumber',
                    value: chance.integer({
                        min: 100000,
                        max: 99999999,
                    }),
                },
                {
                    field: 'birthday',
                    value: toDateString(chance.date().toISOString()),
                },
            ]}
        />
    </ViewSection>
  </Story>
</Canvas>

## Example with Links and render-function

<Canvas>
  <Story name="viewsection-example-with-links-and-render-function">
    <ViewSection>
        <DataList
            values={[
                {
                    field: 'link',
                    value: 'Router Link',
                    link: '/',
                },
                {
                    field: 'externalLink',
                    value: 'External Link',
                    link: 'https://trigo-at.github.io/design-system/',
                    isExternal: true,
                },
                {
                    field: 'action',
                    render: () => <TertiaryButton size="sm">Inline Action</TertiaryButton>,
                },
            ]}
        />
    </ViewSection>
  </Story>
</Canvas>

## Example with Footer

<Canvas>
  <Story name="viewsection-example-with-footer">
    <ViewSection
        title="common.viewsection.title"
        footer={
            <Stack isInline shouldWrapChildren>
                <TertiaryButton size="sm">Action 1</TertiaryButton>
                <TertiaryButton size="sm">Action 2</TertiaryButton>
                <TertiaryButton size="sm">Action 3</TertiaryButton>
            </Stack>
        }>
        <DataList
            values={[
                {
                    field: 'name',
                    value: chance.name(),
                },
                {
                    field: 'customerNumber',
                    value: chance.integer({
                        min: 100000,
                        max: 99999999,
                    }),
                },
                {
                    field: 'birthday',
                    value: toDateString(chance.date().toISOString()),
                },
            ]}
        />
    </ViewSection>
  </Story>
</Canvas>

## Example with Actions and Footer

<Canvas>
  <Story name="viewsection-example-with-actions-and-footer">
    <ViewSection
        title="common.viewsection.title"
        actions={
            <Stack isInline shouldWrapChildren>
                <PrimaryButton size="sm">Primary</PrimaryButton>
                <SecondaryButton size="sm">Secondary</SecondaryButton>
                <TertiaryButton size="sm">Tertiary</TertiaryButton>
            </Stack>
        }
        footer={
            <Stack isInline shouldWrapChildren>
                <TertiaryButton size="sm">Action 1</TertiaryButton>
                <TertiaryButton size="sm">Action 2</TertiaryButton>
                <TertiaryButton size="sm">Action 3</TertiaryButton>
            </Stack>
        }>
        <DataList
            values={[
                {
                    field: 'name',
                    value: chance.name(),
                },
                {
                    field: 'customerNumber',
                    value: chance.integer({
                        min: 100000,
                        max: 99999999,
                    }),
                },
                {
                    field: 'birthday',
                    value: toDateString(chance.date().toISOString()),
                },
            ]}
        />
    </ViewSection>
  </Story>
</Canvas>

## Example with a DataTable

<Canvas>
  <Story name="viewsection-example-with-data-table">
    <ViewSection
        title="common.viewsection.title"
        actions={
            <Stack isInline shouldWrapChildren>
                <PrimaryButton size="sm">Primary</PrimaryButton>
                <SecondaryButton size="sm">Secondary</SecondaryButton>
                <TertiaryButton size="sm">Tertiary</TertiaryButton>
            </Stack>
        }>
        <DataTable
            columns={['name', 'name', 'name']}
            animateNewRow
            items={[
                {
                    id: chance.string({length: 20}),
                    columns: [
                        {value: chance.name()},
                        {value: chance.name()},
                        {value: chance.name()},
                    ],
                },
                {
                    id: chance.string({length: 20}),
                    columns: [
                        {value: chance.name()},
                        {value: chance.name()},
                        {value: chance.name()},
                    ],
                },
                {
                    id: chance.string({length: 20}),
                    columns: [
                        {value: chance.name()},
                        {value: chance.name()},
                        {value: chance.name()},
                    ],
                }
            ]}
        />
    </ViewSection>
  </Story>
</Canvas>
